# API 에러 코드 목록

이 문서는 NUMS Backend API에서 사용되는 에러 코드들을 설명합니다.

## 🔐 인증 관련 에러 (4xx)

### `MISSING_AUTH_TOKEN`

- **상태 코드**: 401
- **설명**: Authorization 헤더에 JWT 토큰이 없음
- **해결 방법**: 요청 헤더에 `Authorization: Bearer <token>` 추가

### `INVALID_TOKEN_FORMAT`

- **상태 코드**: 401
- **설명**: JWT 토큰 형식이 올바르지 않음
- **해결 방법**: 올바른 Bearer 토큰 형식 사용

### `TOKEN_VERIFICATION_FAILED`

- **상태 코드**: 401
- **설명**: JWT 토큰이 유효하지 않거나 만료됨
- **해결 방법**: 새로운 토큰으로 재로그인

### `AUTHENTICATION_ERROR`

- **상태 코드**: 500
- **설명**: 인증 처리 중 서버 오류 발생
- **해결 방법**: 잠시 후 재시도 또는 관리자 문의

## 👤 사용자 관련 에러 (4xx)

### `MISSING_REQUIRED_FIELDS`

- **상태 코드**: 400
- **설명**: 필수 필드(username, password)가 누락됨
- **해결 방법**: 모든 필수 필드 입력

### `USERNAME_ALREADY_EXISTS`

- **상태 코드**: 409
- **설명**: 이미 존재하는 사용자명으로 회원가입 시도
- **해결 방법**: 다른 사용자명 사용

### `USER_NOT_FOUND`

- **상태 코드**: 404
- **설명**: 요청한 사용자 ID를 찾을 수 없음
- **해결 방법**: 올바른 사용자 ID 확인

### `INVALID_CREDENTIALS`

- **상태 코드**: 401
- **설명**: 로그인 시 사용자명 또는 비밀번호가 올바르지 않음
- **해결 방법**: 사용자명과 비밀번호 재확인

## 🎨 테마 관련 에러 (4xx)

### `THEME_NOT_FOUND`

- **상태 코드**: 404
- **설명**: 요청한 테마 ID를 찾을 수 없음
- **해결 방법**: 올바른 테마 ID 확인

### `THEME_NAME_ALREADY_EXISTS`

- **상태 코드**: 409
- **설명**: 이미 존재하는 테마명으로 테마 생성/수정 시도
- **해결 방법**: 다른 테마명 사용

### `INVALID_THEME_MODE`

- **상태 코드**: 400
- **설명**: 테마 모드가 'light' 또는 'dark'가 아님
- **해결 방법**: 올바른 모드 값 사용

### `CANNOT_DELETE_DEFAULT_THEME`

- **상태 코드**: 400
- **설명**: 기본 테마는 삭제할 수 없음
- **해결 방법**: 다른 테마를 기본으로 설정 후 삭제

## 👤 사용자 프로필 관련 에러 (4xx)

### `USER_PROFILE_NOT_FOUND`

- **상태 코드**: 404
- **설명**: 요청한 사용자 프로필을 찾을 수 없음
- **해결 방법**: 올바른 사용자 ID 확인

### `USER_PROFILE_ALREADY_EXISTS`

- **상태 코드**: 409
- **설명**: 해당 사용자의 프로필이 이미 존재함
- **해결 방법**: 기존 프로필 수정 또는 다른 사용자 ID 사용

### `NICKNAME_ALREADY_EXISTS`

- **상태 코드**: 409
- **설명**: 이미 사용 중인 닉네임으로 프로필 생성/수정 시도
- **해결 방법**: 다른 닉네임 사용

## ⚙️ 사용자 설정 관련 에러 (4xx)

### `USER_CONFIG_NOT_FOUND`

- **상태 코드**: 404
- **설명**: 요청한 사용자 설정을 찾을 수 없음
- **해결 방법**: 올바른 사용자 ID 확인

### `USER_CONFIG_ALREADY_EXISTS`

- **상태 코드**: 409
- **설명**: 해당 사용자의 설정이 이미 존재함
- **해결 방법**: 기존 설정 수정 또는 다른 사용자 ID 사용

## 🚫 비밀번호 정책 위반 (4xx)

### `PASSWORD_POLICY_VIOLATION`

- **상태 코드**: 400
- **설명**: 비밀번호가 정책을 만족하지 않음
- **해결 방법**: 비밀번호 정책 준수 (8자 이상, 특수문자 포함 등)

## ⚠️ 서버 오류 (5xx)

### `INTERNAL_SERVER_ERROR`

- **상태 코드**: 500
- **설명**: 서버 내부 오류 발생
- **해결 방법**: 잠시 후 재시도 또는 관리자 문의

## 📝 에러 응답 형식

모든 에러 응답은 다음과 같은 형식을 따릅니다:

```json
{
  "success": false,
  "message": "에러 메시지",
  "errorCode": "ERROR_CODE",
  "error": "상세 에러 정보 (선택사항)"
}
```

## 🔧 에러 처리 가이드

### 클라이언트 측 처리

1. `errorCode`를 확인하여 에러 유형 파악
2. `message`를 사용자에게 표시
3. 필요시 `error` 필드의 상세 정보 활용

### 개발자 디버깅

1. `errorCode`로 에러 카테고리 분류
2. `error` 필드의 상세 정보로 원인 파악
3. 서버 로그와 함께 분석

## 📚 관련 문서

- [API 문서](http://localhost:8080/api-docs)
- [사용자 가이드](./README.md)
